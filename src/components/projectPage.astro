---
import { Icon } from "astro-icon/components";
import StackCard from "./stackCard.astro";
import Image from "astro/components/Image.astro";

interface Props {
    project: {
        title: string;
        appName: string;
        description: string;
        webAppUrl: string;
        landingPageUrl: string;
        repositoryUrl:string
        roles: string[];
        tools: string[];
        logoSrc: string;
        webAppImageSrc: string;
        scrollImageSrc: string;
    };
}

const { project } = Astro.props;
---
<div class="project-header">
    <h2 class="project-title">{project.title}</h2>
    <hr>
</div>

<div class="text-container">
    <div class="text"></div>
    <div class="project-details">
        <div class="project-rol">
            <span> MY ROL</span>
            <div class="rol-list">
                {project.roles.map((role) => (
                    <p>{role}</p>
                ))}
            </div>
        </div>

        <div class="project-tools">
            <span> TOOLS</span>
            {project.tools.map((tool) => (
                <p>{tool}</p>
            ))}
        </div>
    </div>
    <div class="project-description">
        <span> DESCRIPTION</span>
        <div class="project-description-text">
            <p>{project.description}</p>
        </div>
        <div class="buttons">
            <button aria-label="Open Web App">
                <a href={project.webAppUrl} target="_blank" rel="noopener noreferrer">
                    <Icon name="launch-project-icon"></Icon>
                    WEB APP
                </a>
            </button>

            <button aria-label="Open Landing Page">
                <a href={project.landingPageUrl} target="_blank" rel="noopener noreferrer">
                    <Icon name="launch-project-icon"></Icon>
                    LANDING PAGE
                </a>
            </button>

            <button aria-label="Open Repository">
                <a href={project.repositoryUrl} target="_blank" rel="noopener noreferrer">
                    <Icon name="launch-project-icon"></Icon>
                    REPOSITORY
                </a>
            </button>
        </div>
    </div>
</div>
<div class="project-gallery">
    <div class="left-container">
        <div class="app-name">
            <Image 
            class="logo" 
            alt={`Logo of the application ${project.appName}`} 
            src={project.logoSrc} 
            width={45} 
            height={40} loading=eager 
            aria-label={`Logo of the application ${project.appName}`}  ></Image>

            <p class={project.appName === 'FactuManager' ? 'small-font' : ''}>{project.appName}</p>
        </div>
        <div class="project-image container">
            <Image 
            src={project.webAppImageSrc} 
            alt={`Screenshot of the ${project.appName} web application`} 
            width={250} 
            height={300} 
            loading=eager 
            aria-label={`Screenshot of the ${project.appName} web application`}></Image>
        </div>
    </div>

    <div class="project-scroll-image">
        <img src={project.scrollImageSrc}
            alt={`Scrollable image of the ${project.appName} application`} 
            aria-label={`Scrollable image of the ${project.appName} application`}  >
    </div>
</div>

<style>
    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        border: 1px solid #222222;
        padding: 20px 0px;
        border-radius: 30px;
        overflow: hidden;
    }

    .container img {
        width: 100%;
        object-fit: cover;
        transition: transform 0.3s ease-in-out;
    }

    .container:hover img {
        transform: translateY(-1%);
    }

    .project-header {
        color: #222222;
        font-size: 50px;
        padding: 10px 0;
    }

    hr {
        height: 1px;
        color: #222222;
        background: #222222;
        font-size: 0;
        border: 0;
        width: 95%;
    }

    .text-container {
        display: flex;
        flex-direction: row;
        margin-top: 20px;
    }

    .project-details {
        width: 25%;
    }

    .project-description {
        width: 100%;
        padding: 0 20px;
    }

    .project-description-text {
        padding: 10px 0;
    }

    p {
        font-weight: 300;
        font-size: 18px;
    }

    .buttons {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        white-space: none;
        gap: 25px;
        padding: 10px 0;
    }

    button {
        background-color: transparent;
        border: 1px solid #222222;
        font-weight: bold;
        font-size: 15px;
        cursor: pointer;
        padding: 8px 5px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #222222; 
        color: #ffffff; 
        
    }

    a {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 5px;
        color: inherit; 
    }

    span {
        color: #222222;
        font-weight: bold;
        font-size: 20px;
        padding-bottom: 5px;
        display: inline-block;
        white-space: nowrap;
    }

    .project-gallery {
        display: flex;
        justify-content: end;
        flex-direction: row;
        flex-wrap: wrap;
        margin: 50px 0;
        gap: 20px;
    }

    .project-scroll-image {
        background-color: white;
        height: 500px;
        border: 1px solid #222222;
        padding: 20px;
        overflow-y: scroll;
        border-radius: 30px 0 0 30px;
    }

    .project-scroll-image img {
        width: 250px;
    }

    .left-container {
        width: 38%;
    }

    .app-name {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 10px;
        border: 1px solid #222222;
        border-radius: 10px;
        padding: 5px 20px;
        margin-bottom: 20px;
    }

    .app-name p {
        font-size: 50px;
        font-weight: bold;
        color: #222222;
    }

    .logo {
        height: 40px;
    }

    .project-image {
        height: 200px;
    }

    .project-image img {
        width: 265px;
        transform: translateY(20%);
    }

    .rol-list {
        padding-bottom: 15px;
    }

    [data-icon] {
        height: 20px;
        width: 20px;
    }

    .app-name .small-font {
        font-size: 28px; 
    }

    /* 2xl: 1536px and below */
    @media (max-width: 1522px) {
        .app-name p {
            font-size: 40px;
        }
    }

    @media (max-width: 1072px) {
        .project-gallery {
            justify-content: flex-end;
        }

        .left-container {
            width: 80%;
            padding: 20px;
        }

        .app-name p {
            font-size: 25px;
        }
    }

    /* lg: 1024px and below */
    @media (max-width: 1025px) {
        

    }

    /* 880px and below */
    @media (max-width: 879px) {
        .buttons {
            flex-direction: column;
            gap: 15px;
            width: 95%;
        }

        .project-gallery {
            margin: 30px 0;
        }

        .project-header {
            font-size: 30px;
        }
    }

    /* md: 768px and below */
    @media (max-width: 768px) {
        
        p{
            font-size: 15px;
        }
        .text-container {
            flex-wrap: wrap;
        }

        .project-details {
            display: flex;
            flex-direction: row;
            width: 100%;
            gap: 50px;
            padding: 10px;
        }

        .project-description {
            margin-top: 10px;
            padding: 10px;
        }

        .left-container{
            width: 100%;
        }
        .project-gallery {
            justify-content: center;
        }

        button {
            white-space: nowrap;
        }
    }

    /* sm: 640px and below */
    @media (max-width: 639px) {
        h2 {
            font-size: 50px;
        }

        .left-container {
            width: 65%;
        }

        .app-name .small-font {
            font-size: 20px; 
        }
    }

    @media (max-width: 510px) {
        .left-container {
            width: 100%;
        }
    }

    @media (max-width: 376px) {
        .project-gallery {
            padding: 10px;
        }

        .left-container {
            padding: 0;
        }

        h2 {
            font-size: 1em;
        }

        a {
            justify-content: flex-start;
            gap: 10px;
        }
    }
</style>